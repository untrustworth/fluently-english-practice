# Fluently - 英会話練習アプリ 🎭

**劇場レセプション職員のための英会話練習PWAアプリケーション**

![Fluently Logo](assets/Fluently.png)

## 🎯 概要

Fluentlyは、劇場レセプション職員が外国人観光客との英会話を練習するために開発されたProgressive Web App（PWA）です。音声認識とAI技術を活用し、実際の接客シーンを想定したリアルな英会話練習を提供します。

## ✨ 主な特徴

- 🎤 **音声認識による自然な会話体験**（Web Speech API）
- 🤖 **AI搭載の外国人観光客シミュレーション**（Google Gemini 2.0 Flash）
- 🎭 **劇場特化のシチュエーション設定**
- 💡 **リアルタイム英語表現ヒント機能**
- 🔒 **プライバシー重視設計**（会話ログは自動削除）
- 📱 **PWA対応**（ホーム画面に追加可能）
- 💰 **完全無料**（GitHub Pages + 無料APIを活用）

## 🎬 対象ユーザー

**主要ユーザー**: クラシカル劇場のレセプション・チケットセンター職員
**想定シーン**: コンサート・バレエ劇場での外国人観光客対応

## 🚀 技術仕様

### アーキテクチャ
- **フロントエンド**: HTML/CSS/JavaScript（静的サイト）
- **ホスティング**: GitHub Pages
- **AI処理**: Google AI Studio（Gemini 2.0 Flash）
- **音声処理**: Web Speech API
- **データ保存**: LocalStorage

### 対応環境
- **推奨ブラウザ**: Google Chrome **専用**
- **対応OS**: Windows/macOS/Android/iOS
- **ネットワーク**: インターネット接続必須

## 🎪 機能一覧

### 1. 英会話練習機能

#### 🎤 音声入力
- Web Speech APIによる高精度音声認識
- 1.5秒の猶予時間付き自動停止制御
- 自然な会話リズムの実現

#### 🤖 AI会話処理
- Google Gemini 2.0 Flash による自然な英語応答
- 外国人観光客としての適切なロールプレイ
- 会話文脈の継続性（初回：シチュエーション重視、2回目以降：履歴考慮）

#### 🔊 音声出力
- Web Speech APIによる音声合成
- 標準的な米国英語での自然な発音

### 2. 学習支援機能

#### 💡 ヒント機能
- 日本語入力による英語表現提案
- シチュエーションに応じた自然な表現学習
- リアルタイムサポート

#### 📋 会話ログ機能
- ボタン押下中のみログ表示
- 会話終了時の自動削除（プライバシー保護）

### 3. シチュエーション管理

#### 🎲 ランダムシチュエーション
- プリセットからランダム選択
- ワンクリックで即座に会話開始

#### 📝 プリセットシチュエーション
- チケット予約・購入
- トイレ・館内案内
- 公演情報案内
- 座席相談
- 忘れ物対応
- 近隣観光地案内
- グッズ案内
- 貸し会議室案内

#### ⚙️ カスタムシチュエーション
- ユーザー独自の状況設定
- 自動一覧追加機能
- LocalStorageによる永続保存

## 🖥️ 画面構成

### ホーム画面
- ランダム会話開始ボタン
- シチュエーション選択ボタン
- 設定ボタン

### シチュエーション選択画面
- プリセット一覧（クリックで直接開始）
- カスタムシチュエーション入力
- 自動追加機能

### 会話画面
- 音声入力ボタン
- ヒントボタン（日本語→英語翻訳）
- 会話ログボタン（押している間のみ表示）
- 次の会話ボタン（ヘッダー右端、ランダム切り替え）
- プライバシー注意書き

## 🔒 セキュリティ・プライバシー

### データ保護
- **会話ログ完全削除**: 会話終了時に一切のデータを保持しない
- **API使用量制限**: 1時間1000回、1日1500回の制限実装
- **プライバシー警告**: 無料API使用による学習利用の明示

### セキュリティ対策
- HTTPS通信（GitHub Pages標準）
- APIキーの暗号化保存
- 入力データのサニタイゼーション
- プロンプトインジェクション対策

## 📱 インストール方法

### 1. PWAとしてインストール（推奨）

#### デスクトップ（Chrome）
1. ChromeでアプリのURLにアクセス
2. アドレスバーの「インストール」アイコンをクリック
3. 「インストール」をクリック

#### モバイル（iOS Safari/Android Chrome）
1. ブラウザでアプリのURLにアクセス
2. 共有メニューから「ホーム画面に追加」を選択
3. アプリ名を確認して「追加」をタップ

### 2. Web版として利用
任意のブラウザでURLにアクセスして直接利用可能
（ただし、音声機能はGoogle Chrome推奨）

## 🎮 使い方

### 基本的な利用手順

1. **APIキー設定**
   - 初回起動時にGoogle AI Studio APIキーを設定
   - 設定画面から入力・保存

2. **会話開始**
   - 「会話をはじめる」でランダムシチュエーション開始
   - または「シチュエーションを選ぶ」で特定の場面を選択

3. **英会話練習**
   - 音声入力ボタンを押して英語で話しかける
   - AIが外国人観光客として応答
   - わからない時は「ヒント」ボタンで日本語入力

4. **会話継続**
   - 「🎲 次の会話」ボタンで新しいシチュエーションに切り替え
   - 「🏠 終了」でホーム画面に戻る

### ヒント機能の使い方
1. 「💡 ヒント」ボタンをクリック
2. 日本語で言いたい内容を入力
3. AIが適切な英語表現を提案
4. 提案された表現を参考に音声入力

## 🛠️ 開発・運用情報

### ファイル構成
```
/
├── index.html              # メイン画面
├── manifest.json           # PWA設定
├── sw.js                   # Service Worker
├── css/
│   └── style.css          # スタイルシート
├── js/
│   ├── app.js             # メインアプリケーション
│   ├── api.js             # API通信処理
│   ├── speech.js          # 音声処理
│   └── storage.js         # データ保存処理
├── assets/
│   ├── Fluently.png       # ロゴ画像
│   └── icons/             # PWAアイコン
└── CLAUDE.md              # 詳細仕様書
```

### API設定
Google AI Studio APIキーが必要です：
1. [Google AI Studio](https://aistudio.google.com/)にアクセス
2. APIキーを取得
3. アプリの設定画面で入力・保存

### 使用量制限
- **1時間あたり**: 1000回
- **1日あたり**: 1500回
- 制限に達した場合は時間をおいて再試行

## 🆕 更新履歴

### v1.3.0 - 2025年01月
- **UI/UXデザイン大幅改善**: ピンク→紫グラデーション背景
- **視認性向上**: テキストシャドウ対応
- **完全日本語化**: 全インターフェースの日本語対応
- **ロゴビジュアル化**: テキストから画像ロゴに変更

### v1.2.0 - 2025年01月
- **次の会話ボタン追加**: ワンクリックでランダム切り替え
- **ヘッダーレイアウト改善**: 左端終了、中央シチュエーション、右端次の会話

### v1.1.0 - 2024年12月
- **シチュエーション選択改善**: クリックで直接会話開始
- **会話文脈継続性向上**: 履歴考慮型プロンプト
- **音声機能改善**: 1.5秒猶予時間、自然な会話リズム

### v1.0.0 - 2024年12月
- 初期リリース

## 🤝 サポート・フィードバック

ご質問やご要望がございましたら、GitHub Issuesまでお気軽にお寄せください。

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

**Fluently - あなたの英会話力向上をサポートします** 🌟